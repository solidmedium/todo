{"version":3,"sources":["index.js"],"names":["modalComponent","title","value","renderHTML","html","trim","renderTable","data","dataIsolated","filter","p","publish","rows","map","items","btns","id","name","priority","complete","addBtn","table","todo","closeModal","modal","document","getElementById","remove","renderModal","Object","create","parseInt","val","newModal","mount","innerHTML","input","focus","addEventListener","recordValue","e","loadApp","tableHTML"],"mappings":"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","file":"index.js","sourcesContent":["'use strict';\n\nlet modalComponent = {\n  title: 'Add New Todo',\n  value: '',\n  renderHTML() {\n\n    const html = `\n      <div class=\"modal\" id=\"modal\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\"></h4>\n          <button type=\"button\" class=\"close btn btn-red\" id=\"btn-close-modal\">\n            <span aria-hidden=\"true\">X</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n            <div class=\"input-container\">\n              <input type=\"text\" placeholder=\"${this.title}\" id=\"input-add-todo\" class=\"form-control\" id=\"\" value=\"${this.value}\">\n              <button type=\"button\" id=\"btn-save-todo\" class=\"btn btn-blue\">GO</button>\n            </div>\n        </div>\n      </div>\n    `;\n\n    return html.trim();\n  }\n};\n\nfunction renderTable(data) {\n\n  // Remove unpublished/deleted items from the array\n  const dataIsolated = data.filter(p => p.publish);\n\n  let rows = [];\n  dataIsolated.map(items => {\n    \n    const btns = `\n      <button type=\"button\" onclick=\"renderModal(${items.id});\" class=\"btn btn-blue btn-edit\">Edit</button>\n      <button type=\"button\" class=\"btn btn-red btn-delete\">Delete</button>\n    `;\n\n    rows += `\n      <tr>\n        <td>${items.name}</td>\n        <td>${items.priority}</td>\n        <td>${items.complete}</td>\n        <td>${btns}</td>\n      </tr>\n    `;\n  });\n\n  const addBtn = `\n    <div class=\"text-center\">\n      <button type=\"button\" id=\"btn-launch-modal\" class=\"btn btn-green\">Add New Todo</button>\n    </div>\n  `;\n\n  const table = `\n    ${addBtn}\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Priority</th>\n          <th>Complete</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${rows}\n      </tbody>\n    </table>\n  `;\n\n  return table;\n}\n\nlet data = [\n  {\n    id: 1,\n    name: 'Take out the trash',\n    priority: 0,\n    complete: 'No',\n    publish: true\n  }, {\n    id: 2,\n    name: 'Bring in the trash',\n    priority: 0,\n    complete: 'No',\n    publish: true\n  },  {\n    id: 3,\n    name: 'Walk the dog',\n    priority: 0,\n    complete: 'No',\n    publish: false\n  } \n];\n\nconst todo = {\n  value: []\n};\n\n/* ########################\n######### METHODS #########\n######################### */\n\nconst closeModal = () => {\n  // Remove modal from DOM\n  const modal = document.getElementById('modal');\n  modal.remove();\n};\n\nconst renderModal = (id) => {\n \n  // Generate new modal object\n  const modal = Object.create(modalComponent);\n  modal.title = 'Add New Todo';\n\n  // check if value is int to  prime edit\n  if (id === parseInt(id, 10)) {\n    const val = data.filter(p => p.id === id);\n    modal.value = val[0].name;\n  }\n\n  const newModal = modal.renderHTML();\n  const mount = document.getElementById('modal-mount-point');\n  // Add modal to the DOM\n  mount.innerHTML = newModal;\n\n  // Automatically add focus to the input with the modal\n  const input = document.getElementById('input-add-todo');\n  input.focus();\n\n  // Add listener to close modal button\n  document.getElementById(\"btn-close-modal\").addEventListener(\"click\", closeModal);\n\n  // add listener to input\n  document.getElementById(\"input-add-todo\").addEventListener(\"keyup\", recordValue);\n\n};\n\nconst recordValue = (e) => {\n \n  todo.value = document.getElementById(\"input-add-todo\").value;\n\n};\n\nconst loadApp = () => {\n  \n  const tableHTML = renderTable(data);\n  const mount = document.getElementById('app-mount-point');\n\n  mount.innerHTML = tableHTML;\n\n  // Listen for add todo click\n  document.getElementById(\"btn-launch-modal\").addEventListener(\"click\", renderModal);\n\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", loadApp);\n"]}