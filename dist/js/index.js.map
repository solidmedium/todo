{"version":3,"sources":["index.js"],"names":["modalComponent","title","value","renderHTML","form","html","trim","renderTable","data","active","dataIsolated","filter","p","publish","rows","countTotal","countComplete","map","items","complete","editParams","id","deleteParams","btns","priority","priorityText","priorityParams","completeText","completeParams","name","addBtn","sortPriorityParams","sortNameParams","sortDefaultParams","sortPriority","sortName","sortDefault","sortUI","table","action","closeModal","modal","document","getElementById","classList","remove","setTimeout","renderModal","params","console","log","Object","create","val","newModal","mount","innerHTML","input","focus","addEventListener","saveValue","element","add","count","push","testDataIsolated","loadApp","toggleHandler","tempArr","sortHandler","sort","a","b","parseFloat","toLowerCase","tableHTML"],"mappings":"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","file":"index.js","sourcesContent":["'use strict';\n\nlet modalComponent = {\n  title: 'Add New Todo',\n  value: '',\n  delete: false,\n  renderHTML() {\n\n    let form = '';\n    // Switch UI when deleting a todo\n    if (this.delete) {\n      form = `\n        <div class=\"input-container\">\n          <h3>Your are about to delete this item</h3>\n          <input type=\"text\" disabled id=\"input-add-todo\" class=\"form-control\" id=\"\" value=\"${this.value}\">\n          <button type=\"button\" id=\"btn-save-todo\" class=\"btn btn-red\">Confirm Delete</button>\n        </div>\n      `;\n    } else {\n      form = `\n        <div class=\"input-container\">\n          <input type=\"text\" placeholder=\"${this.title}\" id=\"input-add-todo\" class=\"form-control\" value=\"${this.value}\">\n          <button type=\"button\" id=\"btn-save-todo\" class=\"btn btn-green\">GO</button>\n        </div>\n      `;\n    }\n\n    const html = `\n      <div class=\"modal\" id=\"modal\">\n        <div class=\"modal-header\">\n          <h4 class=\"modal-title\"></h4>\n          <button type=\"button\" class=\"close btn btn-red\" id=\"btn-close-modal\">\n            <span aria-hidden=\"true\">X</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n           ${form}\n        </div>\n      </div>\n    `;\n\n    return html.trim();\n  }\n};\n\nfunction renderTable(data, active) {\n\n  // Remove unpublished/deleted items from the array\n  const dataIsolated = data.filter(p => p.publish);\n\n  let rows = [];\n  let countTotal = 0;\n  let countComplete = 0;\n  dataIsolated.map(items => {\n\n    countTotal += 1; // total no of rows\n    if (items.complete) countComplete += 1; // get total no of completed\n\n    const editParams = [items.id, 1]; // edit\n    const deleteParams = [items.id, 2]; // delete\n    \n    // edit and delete buttons\n    const btns = `\n      <button type=\"button\" data-type=\"edit\" onclick=\"renderModal(${editParams});\" class=\"btn btn-green btn-edit\">Edit</button>\n      <button type=\"button\" data-type=\"delete\" onclick=\"renderModal(${deleteParams});\" class=\"btn btn-red btn-delete\">Delete</button>\n    `;\n\n    // checkbox statuses and pararms for priority\n    const priority = (items.priority) ? ' checked' : '';\n    const priorityText = (items.priority) ? ' Yes' : ' No';\n    const priorityParams = [items.id, 1];\n    // checkbox statuses and pararms for complete\n    const complete = (items.complete) ? ' checked' : '';\n    const completeText = (items.complete) ? ' Yes' : ' No';\n    const completeParams = [items.id, 2];\n\n    // generate table rows\n    rows += `\n      <tr>\n        <td>${items.name}</td>\n        <td>\n          <label class=\"switch\">\n            <input type=\"checkbox\"${priority} onchange=\"toggleHandler(${priorityParams});\" class=\"custom-control-input\">${priorityText}\n            <span class=\"slider round\"></span>\n          </label>\n        </td>\n        <td>\n          <label class=\"switch\">\n            <input type=\"checkbox\"${complete} onchange=\"toggleHandler(${completeParams});\" class=\"custom-control-input\">${completeText}\n            <span class=\"slider round\"></span>\n          </label>\n        </td>\n        <td>${btns}</td>\n      </tr>\n    `;  \n  });\n\n  // create button\n  const addBtn = `\n      <button type=\"button\" id=\"btn-launch-modal\" class=\"btn btn-green\">Add New Todo</button>\n  `;\n\n  const sortPriorityParams = [1];\n  const sortNameParams = [2];\n  const sortDefaultParams = [3];\n\n  const sortPriority = (active.sortPriority) ? ' checked' : '';\n  const sortName = (active.sortName) ? ' checked' : '';\n  const sortDefault = ((!active.sortName) && (!active.sortPriority)) ? ' checked' : '';\n \n  // sort UI\n  const sortUI = `\n    <div>\n    <h3>Sort by:</h3>\n    <label class=\"custom-radio name\" style=\"margin-right: .5rem\">None\n      <input type=\"radio\"${sortDefault} id=\"checkbox-sort-default\" name=\"checkbox-sort\" onchange=\"sortHandler(${sortDefaultParams});\" class=\"custom-control-input\">\n      <span class=\"checkmark\"></span>\n    </label>\n    <label class=\"custom-radio name\" style=\"margin-right: .5rem\">Name\n      <input type=\"radio\"${sortName} id=\"checkbox-sort-name\" name=\"checkbox-sort\" onchange=\"sortHandler(${sortNameParams});\" class=\"custom-control-input\">\n      <span class=\"checkmark\"></span>\n    </label>\n    <label class=\"custom-radio priority\" style=\"margin-right: .5rem\">Priority\n      <input type=\"radio\"${sortPriority} id=\"checkbox-sort-priority\" name=\"checkbox-sort\" onchange=\"sortHandler(${sortPriorityParams});\" class=\"custom-control-input\"> \n      <span class=\"checkmark\"></span>\n    </label>\n    </div>\n  `;\n\n  // assemble the table\n  const table = `\n   <div class=\"ui-container\">${sortUI} ${addBtn}</div>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Priority</th>\n          <th>Complete</th>\n          <th>Edit</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${rows}\n      </tbody>\n    </table>\n    <div class=\"text-center\" style=\"margin-top: 1rem\">${countComplete} of ${countTotal} Todos Complete.</div>\n  `;\n\n  return table.trim();\n}\n\nlet data = [\n  {\n    id: 1,\n    name: 'Apply for position @ Rocket Lab',\n    priority: 1,\n    complete: 1,\n    publish: true\n  }, {\n    id: 2,\n    name: 'Explain to 2 year old that not everything can be solved through kicking',\n    priority: 0,\n    complete: 1,\n    publish: true\n  }, {\n    id: 3,\n    name: 'Complete coding challenge',\n    priority: 1,\n    complete: 1,\n    publish: true\n  }, {\n    id: 4,\n    name: 'Tell 5 year old that saying \\'Come at me bro!\\' does not absolve you of anything',\n    priority: 0,\n    complete: 0,\n    publish: true\n  }, {\n    id: 5,\n    name: 'Start telling people about the sweet NFT\\'s you have',\n    priority: 0,\n    complete: 0,\n    publish: true\n  }, {\n    id: 6,\n    name: 'Land dream job @ Rocket Lab',\n    priority: 1,\n    complete: 0,\n    publish: true\n  } \n];\n\nlet active = {\n  id: '',\n  action: '',\n  sortPriority: false,\n  sortName: false\n};\n\n/* ########################\n######### METHODS #########\n######################### */\n\nconst closeModal = () => {\n  // Remove modal from DOM\n  const modal = document.getElementById('modal');\n  modal.classList.remove(\"active\");\n\n  setTimeout(() => {\n    modal.remove();\n  }, 500);\n\n  active.id = '';\n  active.action = '';\n};\n\nconst renderModal = (...params) => {\n\n  console.log(params[0], params[1]);\n\n  // params[1] === 1 Edit\n  // params[1] === 2 Delete\n \n  // Generate new modal object\n  const modal = Object.create(modalComponent);\n  modal.title = 'Add New Todo';\n\n  // check params for edit or delete\n  if (params[1]) {\n\n    active.id = params[0];\n    active.action = params[1];\n\n    const val = data.filter(p => p.id === params[0]);\n    modal.value = val[0].name;\n\n    // set to delete to true to switch modal UI\n    if (params[1] === 2) modal.delete = true;\n  }\n\n  const newModal = modal.renderHTML();\n  const mount = document.getElementById('modal-mount-point');\n\n  if (params[2]) {\n    // return true function for tests\n    return true;\n  } else {\n    // Add modal to the DOM\n    mount.innerHTML = newModal;\n  }\n\n\n  if ((!params[1]) || (params[1] === 1)) {\n    // Automatically add focus to the input in the modal\n    const input = document.getElementById('input-add-todo');\n    input.focus();\n\n  }\n\n  // add lister to save btn\n  document.getElementById(\"btn-save-todo\").addEventListener(\"click\", saveValue);\n\n  // Add listener to close modal button\n  document.getElementById(\"btn-close-modal\").addEventListener(\"click\", closeModal);\n  \n  setTimeout(() => {\n  \n    const element = document.getElementById(\"modal\");\n    element.classList.add(\"active\");\n\n  }, 100);\n};\n\nconst saveValue = (...params) => {\n  \n  let value = '';\n  if (params[1]) {\n    // set value when running tests\n    value = 'Test item';\n    active.action = '';\n  } else {\n    value = document.getElementById(\"input-add-todo\").value;\n  }\n\n  // Delete function\n  if (active.action === 2) {\n    // isolate item to delete\n    const dataIsolated = data.filter(p => p.id === active.id);\n    // set item to unpublish (soft delete)\n    dataIsolated[0].publish = false;\n\n  // Edit function\n  } else if (active.action === 1) {\n    // Isolate item to edit\n    const dataIsolated = data.filter(p => p.id === active.id);\n    // Set new value\n    dataIsolated[0].name = value;\n  \n  // Create new item function\n  } else {\n    \n    let count = 0;\n\n    data.map(() => { count += 1; });\n\n    data.push({\n      id: count + 1,\n      name: value,\n      priority: 0,\n      complete: 0,\n      publish: true\n    });\n  }\n\n  active.id = '';\n  active.action = '';\n\n  console.log(data);\n\n  if (params[1]) {\n    // isolate new test item\n    const testDataIsolated = data.filter(p => p.id === 7);\n    // return out of function\n    return testDataIsolated;\n  } \n\n  closeModal();\n  loadApp();\n};\n\nconst toggleHandler = (...params) => {\n  // do not run function if no params are passed\n  if (!params[1]) return;\n\n  // if params[1] === 1 (Priority)\n  // if params[1] === 2 (Complete)\n\n  // set global active states\n  active.id = params[0];\n  active.action = params[1];\n    // Isolate item to edit\n  const dataIsolated = data.filter(p => p.id === active.id);\n\n  if (active.action === 1) {\n    dataIsolated[0].priority = !dataIsolated[0].priority;\n  } else {\n    dataIsolated[0].complete = !dataIsolated[0].complete;\n  }\n\n  // clear global active state\n  active.id = '';\n  active.action = '';\n\n  // return true if running test\n  if (params[2]) return dataIsolated[0].priority;\n\n  loadApp();\n\n};\n\n// clone data array for sorting reset \nconst tempArr = [...data];\n\nconst sortHandler = (...params) => {\n  // do not run function if no params are passed\n  if (!params[0]) return;\n\n  // if params[1] === 1 (Sort by priority)\n  // if params[1] === 2 (Sort by name)\n\n  if (params[0] === 1) {\n\n    active.sortPriority = true;\n    active.sortName = false;\n\n    if (active.sortPriority) {\n      // method taken from https://stackoverflow.com/questions/979256/sorting-an-array-of-objects-by-property-values\n      data.sort((a, b) => parseFloat(b.priority) - parseFloat(a.priority));\n    }\n\n  } else if (params[0] === 2) {\n\n    active.sortPriority = false;\n    active.sortName = true;\n\n    if (active.sortName) {\n      // method taken from https://stackoverflow.com/questions/1129216/sort-array-of-objects-by-string-property-value\n      data.sort((a,b) => (a.name.toLowerCase() > b.name.toLowerCase()) ? 1 : ((b.name.toLowerCase() > a.name.toLowerCase()) ? -1 : 0));\n    }\n\n  } else {\n\n    active.sortPriority = false;\n    active.sortName = false;\n    // reset array to original if both toggles are off\n    data = [...tempArr];\n  }\n\n  // return second item in array for testing\n  if (params[1]) return data[1];\n\n  loadApp();\n\n};\n\n\nconst loadApp = () => {\n\n  active.id = '';\n  active.action = '';\n  \n  const tableHTML = renderTable(data, active);\n  const mount = document.getElementById('app-mount-point');\n\n  mount.innerHTML = tableHTML;\n\n  // Listen for add todo click\n  document.getElementById(\"btn-launch-modal\").addEventListener(\"click\", renderModal);\n      \n  toggleHandler();\n\n  sortHandler();\n\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", loadApp);\n"]}